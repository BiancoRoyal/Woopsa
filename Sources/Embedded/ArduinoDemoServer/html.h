#ifndef HTML
#define HTML "<html><head><title>Woopsa Arduino demo</title><link href=https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css rel=stylesheet><style>.digital-io-status{position:relative;width:15px;height:15px;top:4px}.digital-io-status:before{content:'';position:absolute;left:0;top:0;width:100%;height:100%;background-color:#fff}.digital-io-status:after{content:'';position:absolute;left:0;top:0;width:100%;height:100%;border:1px solid #700;border-radius:50%;background-color:#f33;box-shadow:0 0 5px rgba(0,0,0,.5) inset;cursor:pointer}.digital-io-status:checked:after{background-color:#3f3;border-color:#070}</style><body><div class=container><h1>Woopsa Arduino demo</h1><div class=row><div class=\"col-xs-6 form-horizontal io-group analog-inputs\"><h4>Analog inputs</h4><div class=form-group><label class=\"col-xs-2 control-label\">A0</label><div class=col-xs-10><div class=progress><div class=progress-bar data-woopsa-property=AnalogIn0></div></div></div></div><div class=form-group><label class=\"col-xs-2 control-label\">A1</label><div class=col-xs-10><div class=progress><div class=progress-bar data-woopsa-property=AnalogIn1></div></div></div></div><div class=form-group><label class=\"col-xs-2 control-label\">A2</label><div class=col-xs-10><div class=progress><div class=progress-bar data-woopsa-property=AnalogIn2></div></div></div></div></div><div class=\"col-xs-6 form-horizontal io-group analog-inputs\"><h4>&nbsp;</h4><div class=form-group><label class=\"col-xs-2 control-label\">A3</label><div class=col-xs-10><div class=progress><div class=progress-bar data-woopsa-property=AnalogIn3></div></div></div></div><div class=form-group><label class=\"col-xs-2 control-label\">A4</label><div class=col-xs-10><div class=progress><div class=progress-bar data-woopsa-property=AnalogIn4></div></div></div></div><div class=form-group><label class=\"col-xs-2 control-label\">A5</label><div class=col-xs-10><div class=progress><div class=progress-bar data-woopsa-property=AnalogIn5></div></div></div></div></div></div><div class=row><div class=\"col-xs-6 form-horizontal io-group digital-ios\"><h4>Digital I/Os</h4><div class=form-group><label class=\"col-xs-2 control-label\">D0</label><div class=col-xs-1><input class=digital-io-status type=checkbox data-woopsa-property=\"Digital0\"></div><div class=col-xs-9><select class=form-control data-woopsa-property=PinMode0><option value=0>Input<option value=1>Output<option value=2>Input (pullup)</select></div></div><div class=form-group><label class=\"col-xs-2 control-label\">D1</label><div class=col-xs-1><input class=digital-io-status type=checkbox data-woopsa-property=\"Digital1\"></div><div class=col-xs-9><select class=form-control data-woopsa-property=PinMode1><option value=0>Input<option value=1>Output<option value=2>Input (pullup)</select></div></div><div class=form-group><label class=\"col-xs-2 control-label\">D2</label><div class=col-xs-1><input class=digital-io-status type=checkbox data-woopsa-property=\"Digital2\"></div><div class=col-xs-9><select class=form-control data-woopsa-property=PinMode2><option value=0>Input<option value=1>Output<option value=2>Input (pullup)</select></div></div><div class=form-group><label class=\"col-xs-2 control-label\">D3</label><div class=col-xs-1><input class=digital-io-status type=checkbox data-woopsa-property=\"Digital3\"></div><div class=col-xs-9><select class=form-control data-woopsa-property=PinMode3><option value=0>Input<option value=1>Output<option value=2>Input (pullup)</select></div></div><div class=form-group><label class=\"col-xs-2 control-label\">D4</label><div class=col-xs-1><input class=digital-io-status type=checkbox data-woopsa-property=\"Digital4\"></div><div class=col-xs-9><select class=form-control data-woopsa-property=PinMode4><option value=0>Input<option value=1>Output<option value=2>Input (pullup)</select></div></div><div class=form-group><label class=\"col-xs-2 control-label\">D5</label><div class=col-xs-1><input class=digital-io-status type=checkbox data-woopsa-property=\"Digital5\"></div><div class=col-xs-9><select class=form-control data-woopsa-property=PinMode5><option value=0>Input<option value=1>Output<option value=2>Input (pullup)</select></div></div><div class=form-group><label class=\"col-xs-2 control-label\">D6</label><div class=col-xs-1><input class=digital-io-status type=checkbox data-woopsa-property=\"Digital6\"></div><div class=col-xs-9><select class=form-control data-woopsa-property=PinMode6><option value=0>Input<option value=1>Output<option value=2>Input (pullup)</select></div></div></div><div class=\"col-xs-6 form-horizontal io-group pwms\"><h4>&nbsp;</h4><div class=form-group><label class=\"col-xs-2 control-label\">D7</label><div class=col-xs-1><input class=digital-io-status type=checkbox data-woopsa-property=\"Digital7\"></div><div class=col-xs-9><select class=form-control data-woopsa-property=PinMode7><option value=0>Input<option value=1>Output<option value=2>Input (pullup)</select></div></div><div class=form-group><label class=\"col-xs-2 control-label\">D8</label><div class=col-xs-1><input class=digital-io-status type=checkbox data-woopsa-property=\"Digital8\"></div><div class=col-xs-9><select class=form-control data-woopsa-property=PinMode8><option value=0>Input<option value=1>Output<option value=2>Input (pullup)</select></div></div><div class=form-group><label class=\"col-xs-2 control-label\">D9</label><div class=col-xs-1><input class=digital-io-status type=checkbox data-woopsa-property=\"Digital9\"></div><div class=col-xs-9><select class=form-control data-woopsa-property=PinMode9><option value=0>Input<option value=1>Output<option value=2>Input (pullup)</select></div></div><div class=form-group><label class=\"col-xs-2 control-label\">D10</label><div class=col-xs-1><input class=digital-io-status type=checkbox data-woopsa-property=Digital3 disabled></div><div class=col-xs-9><select class=form-control disabled><option value=0>Reserved</select></div></div><div class=form-group><label class=\"col-xs-2 control-label\">D11</label><div class=col-xs-1><input class=digital-io-status type=checkbox data-woopsa-property=Digital4 disabled></div><div class=col-xs-9><select class=form-control disabled><option value=0>Reserved</select></div></div><div class=form-group><label class=\"col-xs-2 control-label\">D12</label><div class=col-xs-1><input class=digital-io-status type=checkbox data-woopsa-property=Digital5 disabled></div><div class=col-xs-9><select class=form-control disabled><option value=0>Reserved</select></div></div><div class=form-group><label class=\"col-xs-2 control-label\">D13</label><div class=col-xs-1><input class=digital-io-status type=checkbox data-woopsa-property=Digital6 disabled></div><div class=col-xs-9><select class=form-control disabled><option value=0>Reserved</select></div></div></div></div></div><script src=http://code.jquery.com/jquery-1.11.3.min.js></script><script type=text/javascript>!function(i){var t=function(){},n=function(i,n,e,s,r,u){this.channel=i,this.path=n,this.onChange=e||t,this.subscriptionId=null,r=r||.02,u=u||.05,s=s||t,this.unregister=function(t){return i.client.invoke(\"/SubscriptionService/UnregisterSubscription\",{SubscriptionChannel:i.channelId,SubscriptionId:this.subscriptionId},function(i){t()}.bind(this))},this.register=function(t){return i.client.invoke(\"/SubscriptionService/RegisterSubscription\",{SubscriptionChannel:i.channelId,PropertyLink:n,MonitorInterval:r,PublishInterval:u},function(i){this.subscriptionId=i,s(),t&&t(this)}.bind(this))},this.register.call(this)},e=function(i,t,e){this.client=i,this.onCreate=e,this.channelId=null,this.subscriptions=[],this.listenStarted=!1,this.subscriptionsDictionary={};var s=!1;this.registerSubscription=function(i,t,e,s,r){var o=new n(this,i,t,e,s,r);return this.subscriptions.push(o),this.listenStarted||(this.listenStarted=!0,u.call(this)),this.subscriptionsDictionary[i]=o,o},this.unregisterSubscription=function(i,t){var n=this.subscriptions.indexOf(i);-1!=n&&this.subscriptions[n].unregister(function(i,t){this.subscriptions.splice(i,1),t()}.bind(this,n,t))},this.register=function(){return i.invoke(\"/SubscriptionService/CreateSubscriptionChannel\",{NotificationQueueSize:t},function(i){this.channelId=i,s||this.onCreate.call(this,this.channelId),s=!0}.bind(this))},this.register.call(this);var r=1e4,u=function(){return i.invoke(\"/SubscriptionService/WaitNotification\",{SubscriptionChannel:this.channelId},function(i){for(var t=0;t<i.length;t++){var n=i[t];this.subscriptionsDictionary[n.PropertyLink.Value]&&this.subscriptionsDictionary[n.PropertyLink.Value].onChange(n.Value.Value)}u.call(this)}.bind(this)).fail(function(i,t,n){4==i.readyState&&this.register().done(function(){for(var i=0;i<this.subscriptions.length;i++)this.subscriptions[i].register()}.bind(this)),setTimeout(function(){u.call(this)}.bind(this),r)}.bind(this))}};i.WoopsaClient=function(i,n){function s(i,t){for(var n=0;n<a.length;n++)a[n](i,t)}function r(i){null!=this.username&&i.setRequestHeader(\"Authorization\",\"Basic \"+btoa(this.username+\":\"+this.password))}var u=n,o=null,a=[];i.lastIndexOf(\"/\")==i.length-1?this.url=i:this.url=i+\"/\",this.username=null,this.password=null,this.read=function(i,t){return u.ajax({type:\"GET\",url:this.url+\"read\"+i,beforeSend:r.bind(this)}).done(function(n){t(n.Value,i)}).fail(function(i,t,n){s(t,n)})},this.write=function(i,t,n){return u.ajax({type:\"POST\",url:this.url+\"write\"+i,beforeSend:r.bind(this),data:{value:t}}).done(function(t){n(!0,i)}).fail(function(i,t,n){s(t,n)})},this.meta=function(i,t){return u.ajax({type:\"GET\",url:this.url+\"meta\"+i,beforeSend:r.bind(this)}).done(function(n){t(n,i)}).fail(function(i,t,n){s(t,n)})},this.invoke=function(i,t,n,e){return e=e||1e4,t=t||{},n=n||function(){},u.ajax({type:\"POST\",timeout:e,beforeSend:r.bind(this),url:this.url+\"invoke\"+i,data:t,dataType:\"text\"}).done(function(i){\"\"==i?n():n(JSON.parse(i).Value)}).fail(function(i,t,n){s(t,n)})},this.multiRequest=function(i,t){for(var n={},e=[],s=0;s<i.length;s++){var r=i[s];n[r.Id]=r,e.push({Id:r.Id,Action:r.Action,Path:r.Path,Value:r.Value,Arguments:r.Arguments})}return this.invoke(\"/MultiRequest\",{Requests:JSON.stringify(e)},function(i){for(var e=0;e<i.length;e++){var s=i[e],r=n[s.Id];r.callback&&r.callback(s.Result)}t(i)}.bind(this))},this.createSubscriptionChannel=function(i,t){if(null!=o)return void t.call(o,o.channelId);var n=new e(this,i,function(i){t.call(this,i)});return o=n,n};var h=!1,c=[];this.onChange=function(i,n,e,s){return h?void c.push({path:i,callback:n,monitorInterval:e,publishInterval:s}):void(null!=o||h?o.registerSubscription(i,n,t,e,s):(h=!0,this.createSubscriptionChannel(200,function(){this.onChange(i,n,e,s),h=!1;for(var r=c.length-1;r>=0;r--){var u=c[r];o.registerSubscription(u.path,u.callback,t,u.monitorInterval,u.publishInterval),c.splice(r,1)}}.bind(this))))},this.onError=function(i){a.push(i)}}}(window);</script><script type=text/javascript>$(document).ready(function(){var t=new WoopsaClient(\"/woopsa\",jQuery),i=function(){t.read(\"/\"+$(this).attr(\"data-woopsa-property\"),function(t){$(this).hasClass(\"progress-bar\")?($(this).css(\"width\",100*t/1023+\"%\"),$(this).html(t)):\"checkbox\"==$(this).attr(\"type\")?$(this).prop(\"checked\",t?!0:!1):$(this).val(t)}.bind(this))};$(\"[data-woopsa-property]\").each(function(){\"checkbox\"==$(this).attr(\"type\")?$(this).on(\"change\",function(){t.write(\"/\"+$(this).attr(\"data-woopsa-property\"),$(this).prop(\"checked\")?1:0,function(t){})}):$(this).on(\"change\",function(){t.write(\"/\"+$(this).attr(\"data-woopsa-property\"),$(this).val(),function(t){})}),setInterval(i.bind(this),1e4),i.call(this)})});</script>"
#endif
